<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>优先队列和堆 - Summer</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Summer"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Summer"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="什么是二叉堆二叉堆本质上是一种完全二叉树，它分为两个类型： 1.最大堆 任何一个父节点的值，都大于等于它左右孩子节点的值。 2.最小堆 任何一个父节点的值，都小于等于它左右孩子节点的值。"><meta property="og:type" content="blog"><meta property="og:title" content="优先队列和堆"><meta property="og:url" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/"><meta property="og:site_name" content="Summer"><meta property="og:description" content="什么是二叉堆二叉堆本质上是一种完全二叉树，它分为两个类型： 1.最大堆 任何一个父节点的值，都大于等于它左右孩子节点的值。 2.最小堆 任何一个父节点的值，都小于等于它左右孩子节点的值。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_1.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_2.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_3.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_4.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_5.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_6.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_7.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_8.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_9.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_10.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_11.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_12.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_13.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_14.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_15.png"><meta property="og:image" content="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_14.png"><meta property="article:published_time" content="2021-11-16T07:28:39.000Z"><meta property="article:modified_time" content="2022-05-25T05:18:18.697Z"><meta property="article:author" content="Luo Chunhai"><meta property="article:tag" content="堆"><meta property="article:tag" content="优先队列"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/"},"headline":"优先队列和堆","image":["https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_1.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_2.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_3.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_4.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_5.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_6.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_7.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_8.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_9.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_10.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_11.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_12.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_13.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_14.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_15.png","https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_14.png"],"datePublished":"2021-11-16T07:28:39.000Z","dateModified":"2022-05-25T05:18:18.697Z","author":{"@type":"Person","name":"Luo Chunhai"},"publisher":{"@type":"Organization","name":"Summer","logo":{"@type":"ImageObject","url":{"text":"Summer"}}},"description":"什么是二叉堆二叉堆本质上是一种完全二叉树，它分为两个类型： 1.最大堆 任何一个父节点的值，都大于等于它左右孩子节点的值。 2.最小堆 任何一个父节点的值，都小于等于它左右孩子节点的值。"}</script><link rel="canonical" href="https://luochunhai.github.io/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.2"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Summer</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于我</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/luochunhai"><i class="fab fa-github"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Summer" href="http://www.luochunhai.club/"><i class="fas fa-link"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-11-16T07:28:39.000Z" title="11/16/2021, 3:28:39 PM">2021-11-16</time>发表</span><span class="level-item"><time dateTime="2022-05-25T05:18:18.697Z" title="5/25/2022, 1:18:18 PM">2022-05-25</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/">数据结构和算法</a></span><span class="level-item">17 分钟读完 (大约2590个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">优先队列和堆</h1><div class="content"><h2 id="什么是二叉堆"><a href="#什么是二叉堆" class="headerlink" title="什么是二叉堆"></a>什么是二叉堆</h2><p>二叉堆本质上是一种<strong>完全二叉树</strong>，它分为两个类型：</p>
<p>1.最大堆 任何一个父节点的值，都大于等于它左右孩子节点的值。 2.最小堆 任何一个父节点的值，都小于等于它左右孩子节点的值。</p>
<span id="more"></span>

<p>二叉堆的根节点叫做堆顶。 最大堆和最小堆的特点，决定了在最大堆的堆顶是整个堆中的最大元素；最小堆的堆顶是整个堆中的最小元素。</p>
<h2 id="堆的代码实现"><a href="#堆的代码实现" class="headerlink" title="堆的代码实现"></a>堆的代码实现</h2><p>二叉堆虽然是一颗<strong>完全二叉树</strong>，但它的存储方式并不是链式存储，而是<strong>顺序存储</strong>。换句话说，二叉堆的所有节点都存储在数组当中。</p>
<p><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img.png" alt="img.png"></p>
<p>用数组来表示堆不仅不会浪费空间还具有一定的优势：</p>
<ul>
<li>每个结点的左孩子为下标i的2倍：left child(i) &#x3D; i * 2；每个结点的右孩子为下标i的2倍加1：right child(i) &#x3D; i * 2 + 1</li>
<li>每个结点的父亲结点为下标的二分之一：parent(i) &#x3D; i &#x2F; 2，注意这里是整数除，2和3除以2都为1，大家可以验证一下；</li>
<li>注意：这里是把下标为0的地方空出来了的，主要是为了方便理解，如果0不空出来只需要在计算的时候把i值往右偏移一个位置就行了（也就是加1，大家可以试试，下面的演示也采取这样的方式）；</li>
</ul>
<h2 id="堆的自我调整"><a href="#堆的自我调整" class="headerlink" title="堆的自我调整"></a>堆的自我调整</h2><p>对于二叉堆，如下有几种操作：</p>
<ul>
<li>插入节点</li>
<li>删除节点</li>
<li>构建二叉堆</li>
</ul>
<h3 id="堆的基本结构"><a href="#堆的基本结构" class="headerlink" title="堆的基本结构"></a>堆的基本结构</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MaxHeap</span>&lt;E <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;E&gt;&gt; &#123;</span><br><span class="line">	<span class="keyword">private</span> Array&lt;E&gt; data;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MaxHeap</span><span class="params">(<span class="type">int</span> capacity)</span> &#123;</span><br><span class="line">		data = <span class="keyword">new</span> <span class="title class_">Array</span>&lt;&gt;(capacity);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MaxHeap</span><span class="params">()</span> &#123;</span><br><span class="line">		data = <span class="keyword">new</span> <span class="title class_">Array</span>&lt;&gt;();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 返回堆中的元素个数    </span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> data.getSize();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 返回一个布尔值, 表示堆中是否为空   </span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> data.isEmpty();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 返回完全二叉树的数组表示中，一个索引所表示的元素的父亲节点的索引    </span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="title function_">parent</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (index == <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;index-0 doesn&#x27;t have parent.&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> (index - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 返回完全二叉树的数组表示中，一个索引所表示的元素的左孩子节点的索引    </span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="title function_">leftChild</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> index * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 返回完全二叉树的数组表示中，一个索引所表示的元素的右孩子节点的索引    </span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="title function_">rightChild</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> index * <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-向堆中添加元素和Sift-Up"><a href="#1-向堆中添加元素和Sift-Up" class="headerlink" title="1.向堆中添加元素和Sift Up"></a>1.向堆中添加元素和Sift Up</h3><p>当插入一个元素到堆中时，它可能不满足堆的性质，在这种情况下，需要调整堆中元素的位置使之重新变成堆，这个过程称为<strong>堆化（heapifying）</strong>；在最大堆中，要堆化一个元素，需要找到它的父亲结点，如果不满足堆的基本性质则交换两个元素的位置，重复该过程直到每个结点都满足堆的性质为止，下面我们来模拟一下这个过程：</p>
<p>下面我们在该堆中插入一个新的元素26：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_1.png" alt="img_1.png"><br>我们通过索引（上面的公式）可以很容易地找到新插入元素的父亲结点，然后比较它们的大小，如果新元素更大则交换两个元素的位置，这个操作就相当于把该元素上浮了一下：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_2.png" alt="img_2.png"><br>重复该操作直到26到了一个满足堆条件的位置，此时就完成了插入的操作：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_3.png" alt="img_3.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 向堆中添加元素public </span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(E e)</span>&#123;</span><br><span class="line">	data.addLast(e);</span><br><span class="line">	siftUp(data.getSize()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">siftUp</span><span class="params">(<span class="type">int</span> k)</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(k&gt;<span class="number">0</span>&amp;&amp;data.get(parent(k)).compareTo(data.get(k))&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        data.swap(k,parent(k));</span><br><span class="line">        k=parent(k);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-取出堆中的最大元素和Sift-Down"><a href="#2-取出堆中的最大元素和Sift-Down" class="headerlink" title="2.取出堆中的最大元素和Sift Down"></a>2.取出堆中的最大元素和Sift Down</h3><p>如果理解了上述的过程，那么取出堆中的最大元素（堆顶元素）将变得容易，不过这里运用到一个小技巧，就是用<strong>最后一个元素替换掉栈顶元素</strong>，<br>然后把最后一个元素删除掉，这样一来元素的总个数也满足条件，然后只需要把栈顶元素依次往下调整就好了，这个操作就叫做Sift Down（下沉）：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_4.png" alt="img_4.png"><br>用最后元素替换掉栈顶元素，然后删除最后一个元素：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_5.png" alt="img_5.png"><br>然后比较其孩子结点的大小：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_6.png" alt="img_6.png"><br>如果不满足堆的条件，那么就跟孩子结点中较大的一个交换位置：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_7.png" alt="img_7.png"><br>重复该步骤，直到16到达合适的位置：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_8.png" alt="img_8.png"><br>完成取出最大元素的操作：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_9.png" alt="img_9.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">对应的代码如下：</span><br><span class="line"></span><br><span class="line"><span class="comment">// 看堆中的最大元素</span></span><br><span class="line"><span class="keyword">public</span> E <span class="title function_">findMax</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(data.getSize() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Can not findMax when heap is empty.&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> data.get(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 取出堆中最大元素</span></span><br><span class="line"><span class="keyword">public</span> E <span class="title function_">extractMax</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">E</span> <span class="variable">ret</span> <span class="operator">=</span> findMax();</span><br><span class="line"></span><br><span class="line">    data.swap(<span class="number">0</span>, data.getSize() - <span class="number">1</span>);</span><br><span class="line">    data.removeLast();</span><br><span class="line">    siftDown(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">siftDown</span><span class="params">(<span class="type">int</span> k)</span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(leftChild(k) &lt; data.getSize())&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> leftChild(k); <span class="comment">// 在此轮循环中,data[k]和data[j]交换位置        </span></span><br><span class="line">        <span class="keyword">if</span>( j + <span class="number">1</span> &lt; data.getSize() &amp;&amp; data.get(j + <span class="number">1</span>).compareTo(data.get(j)) &gt; <span class="number">0</span> )</span><br><span class="line">            j ++;</span><br><span class="line">        <span class="comment">// data[j] 是 leftChild 和 rightChild 中的最大值</span></span><br><span class="line">        <span class="keyword">if</span>(data.get(k).compareTo(data.get(j)) &gt;= <span class="number">0</span> )</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        data.swap(k, j);</span><br><span class="line">        k = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-Replace-和-Heapify"><a href="#3-Replace-和-Heapify" class="headerlink" title="3.Replace 和 Heapify"></a>3.Replace 和 Heapify</h3><p><strong>Replace这个操作其实就是取出堆中最大的元素之后再新插入一个元素</strong>，<br>常规的做法是取出最大元素之后，再利用上面的插入新元素的操作对堆进行Sift Up操作，<br>但是这里有一个小技巧就是直接使用新元素替换掉堆顶元素，之后再进行Sift Down操作，这样就把两次O(logn）的操作变成了一次O(logn)：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 取出堆中的最大元素，并且替换成元素e</span></span><br><span class="line"><span class="keyword">public</span> E <span class="title function_">replace</span><span class="params">(E e)</span>&#123;</span><br><span class="line">    <span class="type">E</span> <span class="variable">ret</span> <span class="operator">=</span> findMax();</span><br><span class="line">    data.set(<span class="number">0</span>, e);</span><br><span class="line">    siftDown(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Heapify翻译过来就是<strong>堆化</strong>的意思，就是将任意数组整理成堆的形状，通常的做法是遍历数组从0开始添加创建一个新的堆，但是这里存在一个小技巧就是把<strong>当前数组就看做是一个完全二叉树，然后从最后一个非叶子结点开始进行Sift Down操作就可以了，最后一个非叶子结点也很好找，就是最后一个结点的父亲结点</strong>，大家可以验证一下：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_10.png" alt="img_10.png"><br>从22这个节点开始，依次开始Sift Down操作：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_11.png" alt="img_11.png"><br>重复该过程直到堆顶元素：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_12.png" alt="img_12.png"><br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_13.png" alt="img_13.png"><br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_14.png" alt="img_14.png"><br>完成堆化操作：<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_15.png" alt="img_15.png"><br>将n个元素逐个插入到一个空堆中，算法复杂度是O(nlogn)，而heapify的过程，算法复杂度为O(n)，这是有一个质的飞跃的，下面是代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">MaxHeap</span><span class="params">(E[] arr)</span>&#123;</span><br><span class="line">	data = <span class="keyword">new</span> <span class="title class_">Array</span>&lt;&gt;(arr);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> parent(arr.length - <span class="number">1</span>) ; i &gt;= <span class="number">0</span> ; i --)</span><br><span class="line">	    siftDown(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="什么是优先队列？"><a href="#什么是优先队列？" class="headerlink" title="什么是优先队列？"></a>什么是优先队列？</h2><p>优先队列也是一种队列，只不过不同的是，优先队列的出队顺序是按照优先级来的；在有些情况下，可能需要找到元素集合中的最小或者最大元素，可以利用优先队列ADT来完成操作，优先队列ADT是一种数据结构，它支持插入和删除最小值操作（返回并删除最小元素）或删除最大值操作（返回并删除最大元素）；</p>
<p>这些操作等价于队列的enQueue和deQueue操作，区别在于，对于优先队列，元素进入队列的顺序可能与其被操作的顺序不同，作业调度是优先队列的一个应用实例，它根据优先级的高低而不是先到先服务的方式来进行调度；<br><img src="/2021/11/16/algorithm/algorithm_tree/algorithm-maxheap/img_14.png" alt="img_14.png"><br>如果最小键值元素拥有最高的优先级，那么这种优先队列叫作升序优先队列（即总是先删除最小的元素），类似的，如果最大键值元素拥有最高的优先级，那么这种优先队列叫作降序优先队列（即总是先删除最大的元素）；由于这两种类型时对称的，所以只需要关注其中一种，如升序优先队列；</p>
<h2 id="优先队列ADT"><a href="#优先队列ADT" class="headerlink" title="优先队列ADT"></a>优先队列ADT</h2><p>下面操作组成了优先队列的一个ADT；</p>
<h3 id="1-优先队列的主要操作-优先队列是元素的容器，每个元素有一个相关的键值；"><a href="#1-优先队列的主要操作-优先队列是元素的容器，每个元素有一个相关的键值；" class="headerlink" title="1.优先队列的主要操作 优先队列是元素的容器，每个元素有一个相关的键值；"></a>1.优先队列的主要操作 优先队列是元素的容器，每个元素有一个相关的键值；</h3><ul>
<li>insert(key, data)：插入键值为key的数据到优先队列中，元素以其key进行排序；</li>
<li>deleteMin&#x2F;deleteMax：删除并返回最小&#x2F;最大键值的元素；</li>
<li>getMinimum&#x2F;getMaximum：返回最小&#x2F;最大剑指的元素，但不删除它；</li>
</ul>
<h3 id="2-优先队列的辅助操作"><a href="#2-优先队列的辅助操作" class="headerlink" title="2.优先队列的辅助操作"></a>2.优先队列的辅助操作</h3><ul>
<li>第k最小&#x2F;第k最大：返回优先队列中键值为第k个最小&#x2F;最大的元素；</li>
<li>大小（size）：返回优先队列中的元素个数；</li>
<li>堆排序（Heap Sort）：基于键值的优先级将优先队列中的元素进行排序；</li>
</ul>
<h3 id="优先队列的应用"><a href="#优先队列的应用" class="headerlink" title="优先队列的应用"></a>优先队列的应用</h3><ul>
<li>数据压缩：赫夫曼编码算法；</li>
<li>最短路径算法：Dijkstra算法；</li>
<li>最小生成树算法：Prim算法；</li>
<li>事件驱动仿真：顾客排队算法；</li>
<li>选择问题：查找第k个最小元素； 等等等等….</li>
</ul>
<h3 id="优先队列的实现比较"><a href="#优先队列的实现比较" class="headerlink" title="优先队列的实现比较"></a>优先队列的实现比较</h3><table>
<thead>
<tr>
<th>实现</th>
<th>插入</th>
<th>删除</th>
<th>寻找最小值</th>
</tr>
</thead>
<tbody><tr>
<td>无序数组</td>
<td>1</td>
<td>n</td>
<td>n</td>
</tr>
<tr>
<td>无序链表</td>
<td>1</td>
<td>n</td>
<td>n</td>
</tr>
<tr>
<td>有序数组</td>
<td>n</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>有序链表</td>
<td>n</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>二叉搜索树</td>
<td>logn(平均)</td>
<td>logn(平均)</td>
<td>logn(平均)</td>
</tr>
<tr>
<td>平衡二叉搜索树</td>
<td>logn</td>
<td>logn</td>
<td>logn</td>
</tr>
<tr>
<td>二叉堆</td>
<td>logn</td>
<td>logn</td>
<td>1</td>
</tr>
</tbody></table>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.cxyxiaowu.com/5352.html">漫画：什么是二叉堆</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/39615266">数据结构与算法(4)——优先队列和堆</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cxyxiaowu.com/5417.html">漫画：什么是优先队列？</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cxyxiaowu.com/5393.html">漫画：什么是堆排序？</a></li>
</ul>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E5%A0%86/">堆</a><a class="link-muted mr-2" rel="tag" href="/tags/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/">优先队列</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/11/16/algorithm/alogirthm_string/algorithm-string/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">string</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/11/16/netty/netty-helloworld/"><span class="level-item">netty hello_world</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "bd4861c1f2fd350919c9a8c4a990ea0c",
            repo: "luochunhai.github.io",
            owner: "luochunhai",
            clientID: "f9e12149d698e263599f",
            clientSecret: "5b76add2cdaa3ec47402cde6dc3bb5d913c7c48c",
            admin: ["luochunhai"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-2-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Luo Chunhai"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Luo Chunhai</p><p class="is-size-6 is-block">Developer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>四川·成都</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">205</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">33</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">75</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/luochunhai" target="_blank" rel="noopener">关注我</a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/RocketMQ/"><span class="level-start"><span class="level-item">RocketMQ</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/cubrid/"><span class="level-start"><span class="level-item">cubrid</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/docker/"><span class="level-start"><span class="level-item">docker</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/frontend/"><span class="level-start"><span class="level-item">frontend</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/game-engine/"><span class="level-start"><span class="level-item">game engine</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/go/"><span class="level-start"><span class="level-item">go</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">33</span></span></a></li><li><a class="level is-mobile" href="/categories/jedis/"><span class="level-start"><span class="level-item">jedis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/kafka/"><span class="level-start"><span class="level-item">kafka</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/kubernetes/"><span class="level-start"><span class="level-item">kubernetes</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/leetcode/"><span class="level-start"><span class="level-item">leetcode</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">20</span></span></a><ul><li><a class="level is-mobile" href="/categories/linux/centos/"><span class="level-start"><span class="level-item">centos</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/mongodb/"><span class="level-start"><span class="level-item">mongodb</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/mysql/"><span class="level-start"><span class="level-item">mysql</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/netty/"><span class="level-start"><span class="level-item">netty</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/nginx/"><span class="level-start"><span class="level-item">nginx</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/opencv/"><span class="level-start"><span class="level-item">opencv</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/oracle/"><span class="level-start"><span class="level-item">oracle</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/python/"><span class="level-start"><span class="level-item">python</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/quarkus/"><span class="level-start"><span class="level-item">quarkus</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/reactive/"><span class="level-start"><span class="level-item">reactive</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/redis/"><span class="level-start"><span class="level-item">redis</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/spring/"><span class="level-start"><span class="level-item">spring</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile" href="/categories/study/"><span class="level-start"><span class="level-item">study</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/vmware/"><span class="level-start"><span class="level-item">vmware</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/wsl/"><span class="level-start"><span class="level-item">wsl</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/zookeeper/"><span class="level-start"><span class="level-item">zookeeper</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"><span class="level-start"><span class="level-item">大数据</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%8B%A6%E6%88%AA-%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">拦截/抓包工具</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">数据结构和算法</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Kruskal/"><span class="tag">Kruskal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Object-Storage/"><span class="tag">Object Storage</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RocketMQ/"><span class="tag">RocketMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WebSockets/"><span class="tag">WebSockets</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ansible/"><span class="tag">ansible</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/centos/"><span class="tag">centos</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cocos/"><span class="tag">cocos</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cubrid/"><span class="tag">cubrid</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dijkstra/"><span class="tag">dijkstra</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-compose/"><span class="tag">docker compose</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dubbo/"><span class="tag">dubbo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/elasticsearch/"><span class="tag">elasticsearch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/filebeat/"><span class="tag">filebeat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flink/"><span class="tag">flink</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gc/"><span class="tag">gc</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/graph/"><span class="tag">graph</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/http-server/"><span class="tag">http-server</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/j-u-c/"><span class="tag">j.u.c</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">31</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java%E9%94%81/"><span class="tag">java锁</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jdk/"><span class="tag">jdk</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jedis/"><span class="tag">jedis</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/js/"><span class="tag">js</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/juc/"><span class="tag">juc</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jvm/"><span class="tag">jvm</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kafka/"><span class="tag">kafka</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kibana/"><span class="tag">kibana</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kubernetes/"><span class="tag">kubernetes</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/leetcode/"><span class="tag">leetcode</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lettuce/"><span class="tag">lettuce</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/logstash/"><span class="tag">logstash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maven/"><span class="tag">maven</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/metrics/"><span class="tag">metrics</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongodb/"><span class="tag">mongodb</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mq/"><span class="tag">mq</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mybatis-plus/"><span class="tag">mybatis-plus</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/netty/"><span class="tag">netty</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/network/"><span class="tag">network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/opencv/"><span class="tag">opencv</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/oracle/"><span class="tag">oracle</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pulsar/"><span class="tag">pulsar</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/quarkus/"><span class="tag">quarkus</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reactive/"><span class="tag">reactive</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/redis/"><span class="tag">redis</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spring/"><span class="tag">spring</span><span class="tag">27</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spring-batch/"><span class="tag">spring batch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springdoc/"><span class="tag">springdoc</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/springfox/"><span class="tag">springfox</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/study/"><span class="tag">study</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tomcat/"><span class="tag">tomcat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ubuntu/"><span class="tag">ubuntu</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unity/"><span class="tag">unity</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unreal/"><span class="tag">unreal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vmware/"><span class="tag">vmware</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/volatile/"><span class="tag">volatile</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webflux/"><span class="tag">webflux</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wsl/"><span class="tag">wsl</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zookeeper/"><span class="tag">zookeeper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%B2/"><span class="tag">串</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"><span class="tag">二分查找</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/"><span class="tag">优先队列</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"><span class="tag">动态规划</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A0%86/"><span class="tag">堆</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8B%A6%E6%88%AA-%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7/"><span class="tag">拦截/抓包工具</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/"><span class="tag">数据结构和算法</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A0%91/"><span class="tag">树</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%93%BE%E8%A1%A8/"><span class="tag">链表</span><span class="tag">4</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-2-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#什么是二叉堆"><span class="level-left"><span class="level-item">1</span><span class="level-item">什么是二叉堆</span></span></a></li><li><a class="level is-mobile" href="#堆的代码实现"><span class="level-left"><span class="level-item">2</span><span class="level-item">堆的代码实现</span></span></a></li><li><a class="level is-mobile" href="#堆的自我调整"><span class="level-left"><span class="level-item">3</span><span class="level-item">堆的自我调整</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#堆的基本结构"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">堆的基本结构</span></span></a></li><li><a class="level is-mobile" href="#1-向堆中添加元素和Sift-Up"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">1.向堆中添加元素和Sift Up</span></span></a></li><li><a class="level is-mobile" href="#2-取出堆中的最大元素和Sift-Down"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">2.取出堆中的最大元素和Sift Down</span></span></a></li><li><a class="level is-mobile" href="#3-Replace-和-Heapify"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">3.Replace 和 Heapify</span></span></a></li></ul></li><li><a class="level is-mobile" href="#什么是优先队列？"><span class="level-left"><span class="level-item">4</span><span class="level-item">什么是优先队列？</span></span></a></li><li><a class="level is-mobile" href="#优先队列ADT"><span class="level-left"><span class="level-item">5</span><span class="level-item">优先队列ADT</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-优先队列的主要操作-优先队列是元素的容器，每个元素有一个相关的键值；"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">1.优先队列的主要操作 优先队列是元素的容器，每个元素有一个相关的键值；</span></span></a></li><li><a class="level is-mobile" href="#2-优先队列的辅助操作"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">2.优先队列的辅助操作</span></span></a></li><li><a class="level is-mobile" href="#优先队列的应用"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">优先队列的应用</span></span></a></li><li><a class="level is-mobile" href="#优先队列的实现比较"><span class="level-left"><span class="level-item">5.4</span><span class="level-item">优先队列的实现比较</span></span></a></li></ul></li><li><a class="level is-mobile" href="#参考文章"><span class="level-left"><span class="level-item">6</span><span class="level-item">参考文章</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-24T07:59:35.000Z">2022-05-24</time></p><p class="title"><a href="/2022/05/24/oracle/oracle-vs_mysql/">MySQL和Oracle的区别</a></p><p class="categories"><a href="/categories/oracle/">oracle</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-24T07:59:35.000Z">2022-05-24</time></p><p class="title"><a href="/2022/05/24/oracle/oracle-intro/">oracle intro</a></p><p class="categories"><a href="/categories/oracle/">oracle</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-18T06:25:41.000Z">2022-05-18</time></p><p class="title"><a href="/2022/05/18/java/java-offer/">java</a></p><p class="categories"><a href="/categories/java/">java</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-18T06:25:41.000Z">2022-05-18</time></p><p class="title"><a href="/2022/05/18/java/java-redis/">java redis</a></p><p class="categories"><a href="/categories/redis/">redis</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-18T06:25:41.000Z">2022-05-18</time></p><p class="title"><a href="/2022/05/18/java/java-redis2/">java redis2</a></p><p class="categories"><a href="/categories/redis/">redis</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Summer</a><p class="is-size-7"><span>&copy; 2022 Luo Chunhai</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>